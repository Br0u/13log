{{- $src := .Get "src" -}}
{{- $title := .Get "title" | default "背景音乐" -}}
{{- $autoplay := .Get "autoplay" | default "false" -}}
{{- $loop := .Get "loop" | default "true" -}}
{{- $controls := .Get "controls" | default "true" -}}

<div class="music-player" style="margin: 20px 0; padding: 15px; background: rgba(0,0,0,0.05); border-radius: 8px; text-align: center;">
  <h4 style="margin: 0 0 10px 0; color: #666;">🎵 {{ $title }}</h4>
  <audio 
    {{ if eq $autoplay "true" }}autoplay{{ end }}
    {{ if eq $loop "true" }}loop{{ end }}
    {{ if eq $controls "true" }}controls{{ end }}
    style="width: 100%; max-width: 400px;"
    preload="metadata">
    <source src="{{ $src }}" type="audio/mpeg">
    <source src="{{ $src }}" type="audio/ogg">
    <source src="{{ $src }}" type="audio/wav">
    您的浏览器不支持音频播放。
  </audio>
  <p style="margin: 10px 0 0 0; font-size: 12px; color: #999;">
    💡 提示：{{ if eq $autoplay "true" }}音乐将自动播放{{ else }}点击播放按钮开始播放{{ end }}
  </p>
</div>
